"use strict";!function(){var t={fields:document.querySelectorAll("input"),txt:document.querySelector("textarea"),button:document.querySelector("#submit")},e=function(e){var o=0,a={};e.preventDefault(),""==t.txt.value?($(t.txt).addClass("error"),o++):($(t.txt).removeClass("error"),a[t.txt.id]=t.txt.value),t.fields.forEach(function(t,e){""==t.value.trim()?($(t).addClass("error"),o++):(a[t.id]=t.value,$(t).removeClass("error"))}),0==o&&r(a)},r=function(t){t.id=localStorage.txtId?parseInt(localStorage.txtId)+1:0,localStorage.txtId=parseInt(t.id);var e=localStorage.textos?JSON.parse(localStorage.textos):[];e.push(t),localStorage.textos=JSON.stringify(e),location.replace("text.php?post=text"+localStorage.txtId)};t.button.addEventListener("click",e)}();